---
import { ButtonLink } from "../button";
import Header from "../header.astro";
import { Icon } from "astro-icon/components";
---

<section class="relative overflow-hidden bg-[#FEF7E0]">
  <div class="absolute inset-0 z-0 lg:block">
    <div class="bg-grid-pattern absolute inset-0 opacity-10"></div>
  </div>
  <Header />
  <div class="main relative z-10 mx-auto pb-2 pt-2 md:pb-8 md:pt-8">
    <div class="flex flex-col items-center lg:flex-row lg:justify-center">
      <div class="z-10 flex flex-col items-center text-center">
        <h1
          class="motion-preset-slide-down mt-2 block w-full max-w-screen-lg text-center font-sans text-3xl font-extrabold motion-delay-[100ms] md:hidden md:text-center"
        >
          Connecting Moroccan Minds in AI — Across Borders, Across Generations
        </h1>

        <div
          class="flex hidden w-full max-w-screen-xl flex-col items-center text-center font-sans text-6xl font-bold md:block md:text-center"
        >
          <p class="title-animate motion-delay-[300ms]">
            Connecting Moroccan Minds in AI
          </p>
          <p class="title-animate motion-delay-[800ms]">
            Across Borders, Across Generations
          </p>
        </div>
        <p
          class="text-md motion-preset-slide-down my-4 max-w-[600px] text-center font-sans font-thin motion-delay-[200ms] motion-ease-spring-smooth md:my-8 md:text-center md:text-label-sm md:motion-delay-[1200ms]"
        >
          From first steps to frontier research — discover leading Moroccan AI
          researchers, practical tools, global PhD opportunities, and a thriving
          community driving Moroccan excellence in AI.
        </p>
        <div
          class="hidden justify-center space-x-4 py-2 md:flex md:flex-row md:justify-center"
        >
          <ButtonLink
            href="#projects"
            className="motion-preset-slide-down hidden motion-delay-[1600ms] motion-ease-spring-smooth md:flex"
          >
            Discover projects <Icon name="arrow-right" class="ml-2 rotate-45" />
          </ButtonLink>
          <ButtonLink
            variant="outline"
            href="https://lnkd.in/et9MW3_i"
            className="motion-preset-slide-down hidden self-center motion-delay-[1800ms] motion-ease-spring-smooth md:flex"
          >
            Join Discord Server <Icon name="arrow-right" class="ml-2" />
          </ButtonLink>
        </div>
      </div>
    </div>
  </div>
</section>

<style>
  .bg-grid-pattern {
    background-image:
      linear-gradient(to right, #636161 1px, transparent 1px),
      linear-gradient(to bottom, #636161 1px, transparent 1px);
    background-size: 100px 100px; /* Smaller squares for mobile screens */
    animation: move-grid 8s linear infinite 2s;
  }

  @media (min-width: 768px) {
    .bg-grid-pattern {
      background-size: 200px 200px; /* Larger squares for larger screens */
    }
  }

  @keyframes move-grid {
    0% {
      background-position: 0 0;
    }
    100% {
      background-position: -200px 0px;
    }
  }

  /* custom typewriter animation based on tailwind motion but with some tweaks to make it work for our use case */
  .m-preset-typewriter-\[33\] {
    --motion-duration: 5500ms;
    --motion-typewriter-value: 33ch;
    animation:
      typing var(--motion-duration) steps(33) var(--motion-delay, 0ms) forwards,
      blink 0.4s step-end var(--motion-delay, 0ms) none;
    white-space: nowrap;
    border-right: 2px solid;
    border-color: transparent;
    overflow: hidden;
    width: 0;
    margin: 0 auto;
    text-align: center;
    display: inline-block;
    position: relative;
    left: 50%;
    transform: translateX(-50%);
  }
  .m-preset-typewriter-\[22\] {
    --motion-duration: 1500ms;
    --motion-typewriter-value: 22ch;
    animation:
      typing var(--motion-duration) steps(22) var(--motion-delay, 0ms) forwards,
      blink 0.4s step-end var(--motion-delay, 0ms) none;
    white-space: nowrap;
    border-right: 2px solid;
    border-color: transparent;
    /* font-family: monospace; */
    overflow: hidden;
    width: 0;
  }
  .m-preset-typewriter-\[18\] {
    --motion-duration: 1500ms;
    --motion-typewriter-value: 13.5ch;
    animation:
      typing var(--motion-duration) steps(18) var(--motion-delay, 0ms) forwards,
      blink-last-line 0.4s step-end var(--motion-delay, 0ms) infinite;
    white-space: nowrap;
    border-right: 2px solid;
    border-color: transparent;
    overflow: hidden;
    width: 0;
  }
  @media screen and (prefers-reduced-motion: no-preference) {
    @keyframes typing {
      10% {
        width: 0;
      }
      40%,
      60% {
        width: calc(var(--motion-typewriter-value) + 1px);
      }
      100% {
        width: var(--motion-typewriter-value);
      }
    }
  }
  @keyframes blink {
    0% {
      border-color: black;
    }
    50% {
      border-color: black;
    }
    95% {
      border-color: black;
    }
    100% {
      border-color: transparent;
    }
  }
  @keyframes blink-last-line {
    50% {
      border-color: black;
    }
    95% {
      border-color: black;
    }
    100% {
      border-color: transparent;
    }
  }

  /* Smooth fade and slide animation for titles */
  .title-animate {
    opacity: 0;
    transform: translateY(30px);
    animation: fadeSlideIn 1.2s ease-out var(--motion-delay, 0ms) forwards;
  }

  @keyframes fadeSlideIn {
    0% {
      opacity: 0;
      transform: translateY(30px);
    }
    100% {
      opacity: 1;
      transform: translateY(0);
    }
  }
</style>
